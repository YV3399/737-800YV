<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>
<fdm_config name="738" release="BETA" version="2.0"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

	<fileheader>
		<author> Michael Soitanen, YV3399 And it0uchpods </author>
		<filecreationdate> 2014-09-30 </filecreationdate>
		<version>$Revison: 1.0 $</version>
		<description> Models a 737-800. </description>
	</fileheader>

<!--
	base datum - nose of aircraft. BWL at this point 208.1 in. Source - structure diagrams.
-->

	<metrics>
		<wingarea unit="FT2"> 1341.00 </wingarea> <!-- value from simulator data. Checked -->
		<wingspan unit="IN">  1350.81 </wingspan> <!-- value from simulator data. Checked -->
		<chord unit="IN">      155.81 </chord> <!-- value from simulator data. Checked -->
		<htailarea unit="FT2"> 352.80 </htailarea> <!-- value from simulator data. Checked -->
		<htailarm unit="IN">   696.72 </htailarm> <!-- value from simulator data. Checked -->
		<vtailarea unit="FT2"> 284.60 </vtailarea> <!-- value from simulator data. Checked -->
		<vtailarm unit="IN">   642.83 </vtailarm> <!-- value from simulator data. Checked -->
		<location name="AERORP" unit="IN">
			<x>  734 </x> <!-- 25% MAC -->
			<y>    0 </y>
			<z>-6.71 </z> <!-- BWL 201.39 -->
		</location>
		<location name="EYEPOINT" unit="IN">
			<x>  98 </x>
			<y> -20 </y>
			<z>  56.18 </z>
		</location>
		<location name="VRP" unit="M">
			<x> 19.8099 </x>
			<y> 0 </y>
			<z> 0.0785 </z>
		</location>
	</metrics>

	<mass_balance> <!-- MOIs based on reverse engineering of FFS certification tests -->
		<ixx unit="SLUG*FT2">    445000 </ixx>
		<iyy unit="SLUG*FT2"> 2.141e+06 </iyy>
		<izz unit="SLUG*FT2"> 2.588e+06 </izz>
		<ixy unit="SLUG*FT2">         0 </ixy>
		<ixz unit="SLUG*FT2">    110000 </ixz>
		<iyz unit="SLUG*FT2">         0 </iyz>
		<emptywt unit="LBS">      97060 </emptywt> <!-- based on real info about EI-RUA aircraft. 2 pilots and 5 cabin crew included -->
		<location name="CG" unit="IN">
			<x> 729.56 </x> <!-- based on real info about EI-RUA aircraft. 2 pilots and 5 cabin crew included -->
			<y>   0 </y>
			<z>   0 </z>
		</location>

		<pointmass name="Cabin Zone 0A"> <!-- Business class (8 pax max) Row 1-2 -->
			<weight unit="LBS"> 1324 </weight>
			<location name="POINTMASS" unit="IN">
				<x> 301.5 </x>
				<y> 0 </y>
				<z> 27.5 </z>
			</location>
		</pointmass>

		<pointmass name="Cabin Zone 0B"> <!-- Tourist class (54 pax max) Row 10-19 -->
			<weight unit="LBS"> 1324 </weight>
			<location name="POINTMASS" unit="IN">
				<x> 541 </x>
				<y> 0 </y>
				<z> 27.5 </z>
			</location>
		</pointmass>

		<pointmass name="Cabin Zone 0C"> <!-- Economy class (96 pax max) Row 20-36 -->
			<weight unit="LBS"> 1324 </weight>
			<location name="POINTMASS" unit="IN">
				<x> 874 </x>
				<y> 0 </y>
				<z> 27.5 </z>
			</location>
		</pointmass>

		<pointmass name="Cargo compartment 1A"> <!-- max 553 kg/1218 lbs -->
			<weight unit="LBS"> 500 </weight>
			<location name="POINTMASS" unit="IN">
				<x> 284 </x>
				<y> 0 </y>
				<z> -30 </z>
			</location>
		</pointmass>


		<pointmass name="Cargo compartment 1B"> <!-- max 336 kg/741 lbs -->
			<weight unit="LBS"> 200 </weight>
			<location name="POINTMASS" unit="IN">
				<x> 334 </x>
				<y> 0 </y>
				<z> -30 </z>
			</location>
		</pointmass>

		<pointmass name="Cargo compartment 2"> <!-- max 2670 kg/5887 lbs -->
			<weight unit="LBS"> 2500 </weight>
			<location name="POINTMASS" unit="IN">
				<x> 464 </x>
				<y> 0 </y>
				<z> -30 </z>
			</location>
		</pointmass>

		<pointmass name="Cargo compartment 3"> <!-- max 4086 kg/9008 lbs -->
			<weight unit="LBS"> 4000 </weight>
			<location name="POINTMASS" unit="IN">
				<x> 932.5 </x>
				<y> 0 </y>
				<z> -30 </z>
			</location>
		</pointmass>

		<pointmass name="Cargo compartment 4A"> <!-- max 362 kg/798 lbs -->
			<weight unit="LBS"> 400 </weight>
			<location name="POINTMASS" unit="IN">
				<x> 1097.5 </x>
				<y> 0 </y>
				<z> -30 </z>
			</location>
		</pointmass>

		<pointmass name="Cargo compartment 4B"> <!-- max 402 kg/886 lbs -->
			<weight unit="LBS"> 200 </weight>
			<location name="POINTMASS" unit="IN">
				<x> 1175.5 </x>
				<y> 0 </y>
				<z> -30 </z>
			</location>
		</pointmass>

	</mass_balance>

	<ground_reactions>
		<contact name="Nose Gear" type="BOGEY"> <!-- from AMM - maximum NLG compression is 15.5 in -->
			<location unit="IN">
				<x> 161 </x>
				<y>   0 </y>
				<z> -110.83 </z> <!-- BWL 106.57 -->
			</location>
			<static_friction>  0.40 </static_friction>
			<dynamic_friction> 0.50 </dynamic_friction>
			<rolling_friction> 0.02 </rolling_friction>
			<strut_force>
				<function>
					<sum>
						<product>
							<value>-1</value>
							<table>
								<independentVar>gear/unit[0]/compression-ft</independentVar>
								<tableData>
									0       0
									0.042   840
									0.083   969
									0.125   1108
									0.167   1256
									0.208   1414
									0.25    1585
									0.292   1770
									0.333   1969
									0.375   2185
									0.417   2421
									0.458   2679
									0.5     2962
									0.542   3274
									0.583   3621
									0.625   4007
									0.667   4440
									0.708   4930
									0.75    5488
									0.792   6129
									0.833   6873
									0.875   7748
									0.917   8792
									0.958   10059
									1       11627
									1.042   13620
									1.083   16238
									1.125   19828
									1.167   25055
									1.208   33371
									1.25    48660
									1.292   86030
									1.3     200000
								</tableData>
							</table>
						</product>
						<ifthen>
							<ge>
								<property> gear/unit[0]/compression-velocity-fps </property>
								<value> 0.0 </value>
							</ge>
							<product>
								<value> -8000 </value>
								<property> gear/unit[0]/compression-velocity-fps </property>
							</product>
							<product>
								<value> -12000 </value>
								<property> gear/unit[0]/compression-velocity-fps </property>
							</product>
						</ifthen>
					</sum>
				</function>
			</strut_force>
			<max_steer unit="DEG"> 78 </max_steer>
			<brake_group> NONE </brake_group>
			<retractable>1</retractable>
		</contact>
		<contact name="Left Main Gear" type="BOGEY"> <!-- from AMM - maximum MLG compression is 16 in -->
			<location unit="IN">
				<x>  775 </x>
				<y> -112.5 </y>
				<z> -113.99 </z> <!-- BWL 98.31 -->
			</location>
			<static_friction>  0.40 </static_friction>
			<dynamic_friction> 0.50 </dynamic_friction>
			<rolling_friction> 0.02 </rolling_friction>
			<strut_force>
				<function>
					<sum>
						<product>
							<value>-1</value>
							<table>
								<independentVar>gear/unit[1]/compression-ft</independentVar>
								<tableData>
									0       0
									0.042   555
									0.083   1160
									0.125   1804
									0.167   2490
									0.208   3222
									0.25    4005
									0.292   4844
									0.333   5747
									0.375   6719
									0.417   7770
									0.458   8910
									0.5     10150
									0.542   11504
									0.583   12989
									0.625   14625
									0.667   16435
									0.708   18449
									0.75    20705
									0.792   23247
									0.833   26135
									0.875   29444
									0.917   33273
									0.958   37755
									1       43073
									1.042   49485
									1.083   57368
									1.125   67292
									1.167   80169
									1.208   97547
									1.25    122286
									1.292   160318
									1.333   226295
									1.35    500000
								</tableData>
							</table>
						</product>
						<ifthen>
							<ge>
								<property> gear/unit[1]/compression-velocity-fps </property>
								<value> 0.0 </value>
							</ge>
							<product>
								<value> -20000 </value>
								<property> gear/unit[1]/compression-velocity-fps </property>
							</product>
							<product>
								<value> -30000 </value>
								<property> gear/unit[1]/compression-velocity-fps </property>
							</product>
						</ifthen>
					</sum>
				</function>
			</strut_force>
			<max_steer unit="DEG"> 0.0 </max_steer>
			<brake_group> LEFT </brake_group>
			<retractable>1</retractable>
		</contact>
		<contact name="Right Main Gear" type="BOGEY"> <!-- from AMM - maximum MLG compression is 16 in -->
			<location unit="IN">
				<x> 775 </x>
				<y> 112.5 </y>
				<z> -113.99 </z> <!-- BWL 98.31 -->
			</location>
			<static_friction>  0.40 </static_friction>
			<dynamic_friction> 0.50 </dynamic_friction>
			<rolling_friction> 0.02 </rolling_friction>
			<strut_force>
				<function>
					<sum>
						<product>
							<value>-1</value>
							<table>
								<independentVar>gear/unit[2]/compression-ft</independentVar>
								<tableData>
									0       0
									0.042   555
									0.083   1160
									0.125   1804
									0.167   2490
									0.208   3222
									0.25    4005
									0.292   4844
									0.333   5747
									0.375   6719
									0.417   7770
									0.458   8910
									0.5     10150
									0.542   11504
									0.583   12989
									0.625   14625
									0.667   16435
									0.708   18449
									0.75    20705
									0.792   23247
									0.833   26135
									0.875   29444
									0.917   33273
									0.958   37755
									1       43073
									1.042   49485
									1.083   57368
									1.125   67292
									1.167   80169
									1.208   97547
									1.25    122286
									1.292   160318
									1.333   226295
									1.35    500000
								</tableData>
							</table>
						</product>
						<ifthen>
							<ge>
								<property> gear/unit[2]/compression-velocity-fps </property>
								<value> 0.0 </value>
							</ge>
							<product>
								<value> -20000 </value>
								<property> gear/unit[2]/compression-velocity-fps </property>
							</product>
							<product>
								<value> -30000 </value>
								<property> gear/unit[2]/compression-velocity-fps </property>
							</product>
						</ifthen>
					</sum>
				</function>
			</strut_force>
			<max_steer unit="DEG"> 0.0 </max_steer>
			<brake_group> RIGHT </brake_group>
			<retractable>1</retractable>
		</contact>

		<contact type="STRUCTURE" name="TAIL_SKID">
			<location unit="IN">
				<x> 1417.05 </x>
				<y> 0 </y>
				<z> -13.5 </z> <!-- BWL 194.60 -->
			</location>
			<static_friction> 1 </static_friction>
			<dynamic_friction> 1 </dynamic_friction>
			<rolling_friction> 0 </rolling_friction>
			<spring_coeff unit="LBS/FT"> 20000 </spring_coeff>
			<damping_coeff unit="LBS/FT/SEC"> 5000 </damping_coeff>
			<max_steer unit="DEG"> 0 </max_steer>
			<brake_group> NONE </brake_group>
			<retractable> 0 </retractable>
		</contact>

		<contact type="STRUCTURE" name="NOSE">
			<location unit="IN">
				<x> 0 </x>
				<y> 0 </y>
				<z> 0 </z>
			</location>
			<static_friction> 1 </static_friction>
			<dynamic_friction> 1 </dynamic_friction>
			<rolling_friction> 0 </rolling_friction>
			<spring_coeff unit="LBS/FT"> 20000 </spring_coeff>
			<damping_coeff unit="LBS/FT/SEC"> 5000 </damping_coeff>
			<max_steer unit="DEG"> 0 </max_steer>
			<brake_group> NONE </brake_group>
			<retractable> 0 </retractable>
		</contact>
	</ground_reactions>

	<propulsion>
		<engine file="cfm56_7b26">
			<location unit="IN">
				<x>  715.6 </x> <!-- value from simulator data -->
				<y> -193.68 </y> <!-- value from simulator data -->
				<z>  -52.38 </z> <!-- BWL 155.72 -->
			</location>
			<orient unit="DEG">
				<roll>  0 </roll>
				<pitch> 0 </pitch>
				<yaw>   1 </yaw>
			</orient>
			<feed>3</feed>
			<thruster file="direct">
				<location unit="IN">
					<x>  715.6 </x> <!-- value from simulator data -->
					<y> -193.68 </y> <!-- value from simulator data -->
					<z>  -52.38 </z> <!-- BWL 155.72 -->
				</location>
				<orient unit="DEG">
					<roll>  0 </roll>
					<pitch> 0 </pitch>
					<yaw>   1 </yaw>
				</orient>
			</thruster>
		</engine>
		<engine file="cfm56_7b26">
			<location unit="IN">
				<x> 715.6 </x> <!-- value from simulator data -->
				<y> 193.68 </y> <!-- value from simulator data -->
				<z>  -52.38 </z> <!-- BWL 155.72 -->
			</location>
			<orient unit="DEG">
				<roll>  0 </roll>
				<pitch> 0 </pitch>
				<yaw>  -1 </yaw>
			</orient>
			<feed>4</feed>
			<thruster file="direct">
				<location unit="IN">
					<x> 715.6 </x> <!-- value from simulator data -->
					<y> 193.68 </y> <!-- value from simulator data -->
					<z>  -52.38 </z> <!-- BWL 155.72 -->
				</location>
				<orient unit="DEG">
					<roll>  0 </roll>
					<pitch> 0 </pitch>
					<yaw>   -1 </yaw>
				</orient>
			</thruster>
		</engine>

		<tank type="FUEL"><!-- Left wing tank -->
			<location unit="IN">
				<x> 767.01 </x> <!-- based on trimsheet calculation. Correct value -->
				<y> -350 </y>
				<z> 26.58 </z>
			</location>
			<drain_location unit="IN">
				<x> 703.09</x> <!-- based on trimsheet calculation. Correct value -->
				<y> -200 </y>
				<z> 10.91 </z>
			</drain_location>
			<capacity unit="LBS"> 8630 </capacity>
			<contents unit="LBS"> 0 </contents>
			<temperature> 59.0 </temperature> <!-- Fuel temp in degrees F -->
		</tank>
		<tank type="FUEL"><!-- Right wing tank -->
			<location unit="IN">
				<x> 767.01 </x> <!-- based on trimsheet calculation. Correct value -->
				<y> 350 </y>
				<z> 26.58 </z>
			</location>
			<drain_location unit="IN">
				<x> 703.09</x> <!-- based on trimsheet calculation. Correct value -->
				<y> 200 </y>
				<z> 10.91 </z>
			</drain_location>
			<capacity unit="LBS"> 8630 </capacity>
			<contents unit="LBS"> 0 </contents>
			<temperature> 59.0 </temperature> <!-- Fuel temp in degrees F -->
		</tank>
		<tank type="FUEL"><!-- Center tank -->
			<location unit="IN">
				<x> 675.41 </x> <!-- based on trimsheet calculation. Correct value -->
				<y>   0 </y>
				<z> -19.54 </z>
			</location>
			<drain_location unit="IN">
				<x> 675.46 </x> <!-- based on trimsheet calculation. Correct value -->
				<y> 0 </y>
				<z> -97.4 </z>
			</drain_location>
			<capacity unit="LBS"> 28803 </capacity>
			<contents unit="LBS">  0 </contents>
			<temperature> 59.0 </temperature> <!-- Fuel temp in degrees F -->
		</tank>
		<tank type="FUEL"><!-- Feed pipe for left engine -->
			<location unit="IN">
				<x> 700 </x>
				<y>-193 </y>
				<z> -40 </z>
			</location>
			<capacity unit="LBS"> 0.5 </capacity>
			<contents unit="LBS"> 0.25 </contents>
		</tank>
		<tank type="FUEL"><!-- Feed pipe for right engine -->
			<location unit="IN">
				<x> 700 </x>
				<y> 193 </y>
				<z> -40 </z>
			</location>
			<capacity unit="LBS"> 0.5 </capacity>
			<contents unit="LBS"> 0.25 </contents>
		</tank>
	</propulsion>

	<system file="pushback"/>
	<system file="fuel"/>
	<system file="fmc"/>
	<system file="hydraulics-jsb"/>

	<flight_control name="FCS: 737">
		<channel name="Pitch">

			<summer name="Pitch Trim Sum Cmd">
				<input>/controls/flight/elevator-sum</input>
				<clipto>
					<min>-1</min>
					<max> 1</max>
				</clipto>
			</summer>

			<kinematic name="Pitch Trim Sum">
				<input>fcs/pitch-trim-sum-cmd</input>
				<traverse>
					<setting>
						<position>-1</position>
						<time>0</time>
					</setting>
					<setting>
						<position>1</position>
						<time>0.829</time> <!-- from report about Norwegian Air LN-DYM. Rate is 50 deg/sec -->
					</setting>
				</traverse>
				<output>fcs/pitch-trim-sum</output>
			</kinematic>

			<aerosurface_scale name="Elevator Control">
				<input>fcs/pitch-trim-sum</input>
				<range>
					<min>-0.336</min>
					<max> 0.3875</max>
				</range>
				<output>fcs/elevator-pos-rad</output>
			</aerosurface_scale>

			<aerosurface_scale name="Elevator Normalized">
				<input>fcs/elevator-pos-rad</input>
				<domain>
					<min>-0.336</min>
					<max> 0.3875</max>
				</domain>
				<range>
					<min>-1</min>
					<max> 1</max>
				</range>
				<output>fcs/elevator-pos-norm</output>
			</aerosurface_scale>

		</channel>

		<channel name="Roll">

			<summer name="Roll Trim Sum">
				<input>/controls/flight/aileron-sum</input>
				<input>fcs/roll-trim-cmd-norm</input>
				<clipto>
					<min>-1</min>
					<max> 1</max>
				</clipto>
			</summer>

			<fcs_function name="Left Aileron Control">
				<function>
					<table>
						<independentVar>fcs/roll-trim-sum</independentVar>
						<tableData>
							-1              -0.3577924967
							-0.9195402299   -0.3271881482
							-0.8620689655   -0.3028076439
							-0.8045977011   -0.2784271396
							-0.7471264368   -0.2540448899
							-0.6896551724   -0.2296643856
							-0.632183908    -0.2078407886
							-0.5747126437   -0.1861428554
							-0.5172413793   -0.1644445731
							-0.4597701149   -0.1427468143
							-0.4022988506   -0.1210490556
							-0.3448275862   -0.0993512969
							-0.2873563218   -0.0792398679
							-0.2298850575   -0.0591930161
							-0.1724137931   -0.0391461643
							-0.1149425287   -0.0198375868
							-0.0574712644   -0.000818809
							0               0.0181999444
							0.0574712644    0.035044117
							0.1149425287    0.0518179528
							0.1724137931    0.0685919632
							0.2298850575    0.085421126
							0.2873563218    0.1023026486
							0.3448275862    0.1191841713
							0.4022988506    0.1345229974
							0.4597701149    0.1495581363
							0.5172413793    0.1645932751
							0.5747126437    0.1796275413
							0.632183908     0.1946635528
							0.6896551724    0.209697819
							0.7471264368    0.2231124196
							0.8045977011    0.2363751766
							0.8620689655    0.2496361882
							0.9195402299    0.2628989452
							1               0.2705260341
						</tableData>
					</table>
				</function>
				<output>fcs/left-aileron-pos-rad</output>
			</fcs_function>

			<fcs_function name="Right Aileron Control">
				<function>
					<table>
						<independentVar>fcs/roll-trim-sum</independentVar>
						<tableData>
							-1              0.2705260341
							-0.9195402299   0.2628989452
							-0.8620689655   0.2496361882
							-0.8045977011   0.2363751766
							-0.7471264368   0.2231124196
							-0.6896551724   0.209697819
							-0.632183908    0.1946635528
							-0.5747126437   0.1796275413
							-0.5172413793   0.1645932751
							-0.4597701149   0.1495581363
							-0.4022988506   0.1345229974
							-0.3448275862   0.1191841713
							-0.2873563218   0.1023026486
							-0.2298850575   0.085421126
							-0.1724137931   0.0685919632
							-0.1149425287   0.0518179528
							-0.0574712644   0.035044117
							0               0.0181999444
							0.0574712644    -0.000818809
							0.1149425287    -0.0198375868
							0.1724137931    -0.0391461643
							0.2298850575    -0.0591930161
							0.2873563218    -0.0792398679
							0.3448275862    -0.0993512969
							0.4022988506    -0.1210490556
							0.4597701149    -0.1427468143
							0.5172413793    -0.1644445731
							0.5747126437    -0.1861428554
							0.632183908     -0.2078407886
							0.6896551724    -0.2296643856
							0.7471264368    -0.2540448899
							0.8045977011    -0.2784271396
							0.8620689655    -0.3028076439
							0.9195402299    -0.3271881482
							1               -0.3577924967
						</tableData>
					</table>
				</function>
				<output>fcs/right-aileron-pos-rad</output>
			</fcs_function>

		   <aerosurface_scale name="Left aileron Normalized">
				<input>fcs/left-aileron-pos-rad</input>
				<domain>
					<min>-0.3577924967</min>
					<max> 0.2705260341</max>
				</domain>
				<range>
					<min>-1</min>
					<max> 1</max>
				</range>
				<output>fcs/left-aileron-pos-norm</output>
			</aerosurface_scale>

			<aerosurface_scale name="Right aileron Normalized">
				<input>fcs/right-aileron-pos-rad</input>
				<domain>
					<min>-0.3577924967</min>
					<max> 0.2705260341</max>
				</domain>
				<range>
					<min>-1</min>
					<max> 1</max>
				</range>
				<output>fcs/right-aileron-pos-norm</output>
			</aerosurface_scale>

		</channel>

		
		<channel name="Yaw">

			<summer name="Rudder Command Sum">
				<input>fcs/rudder-cmd-norm</input>
				<input>fcs/yaw-trim-cmd-norm</input>
				<clipto>
					<min>-1</min>
					<max> 1</max>
				</clipto>
			</summer>

			<!--Yaw damper-->        
			<washout_filter name="yaw-wf">
				<input>velocities/r-aero-rad_sec</input>
				<c1>4</c1>
			</washout_filter>

			<pure_gain name="Yaw Damper">
				<input>fcs/yaw-wf</input>
				<gain>5</gain>
			</pure_gain>


			<!--Slip stabilizer-->
			<switch name="accelerations/Ny-switched">
				<default value="0.0"/>
				<test logic="AND" value="accelerations/Ny">
					aero/h_b-mac-ft GE 1
					/b737/controls/flight/yaw-damper NE 0
				</test>
			</switch>

			<pid name="fcs/yaw-slip">
				<input>accelerations/Ny-switched</input>
				<kp> -0.1 </kp>
				<ki> 0.05 </ki>
				<kd> 0.0 </kd>
				<clipto>
					<min>-0.12</min>
					<max>0.12</max>
				</clipto>
				<!--<output>fcs/yaw-slip-out</output> possible for debug -->
			</pid>

			<summer name="Yaw Damper Sum">
				<input>fcs/yaw-damper</input>
				<input>fcs/yaw-slip</input>
				<clipto>
					<min>-0.12</min>
					<max> 0.12</max>
				</clipto>
			</summer>

			<switch name="Yaw Damper Final">
				<default value="0.0"/>
				<test value="fcs/yaw-damper-sum">
					/b737/controls/flight/yaw-damper ne 0
				</test>
			</switch>

			<summer name="Rudder Sum Cmd">
				<input>fcs/rudder-command-sum</input>
				<input>fcs/yaw-damper-final</input>
				<clipto>
					<min>-1</min>
					<max> 1</max>
				</clipto>
			</summer>

			<kinematic name="Rudder Sum">
				<input>fcs/rudder-sum-cmd</input>
				<traverse>
					<setting>
						<position>-1</position>
						<time>0</time>
					</setting>
					<setting>
						<position>1</position>
						<time>0.909</time> <!-- from reports about problems with jammed rudder -->
					</setting>
				</traverse>
				<output>fcs/rudder-sum</output>
			</kinematic>

			<aerosurface_scale name="Rudder Control"> <!-- -30...+30 degrees range -->
				<input>fcs/rudder-sum</input>
				<range>
					<min>-0.523</min>
					<max> 0.523</max>
				</range>
				<output>fcs/rudder-pos-rad</output>
			</aerosurface_scale>

			<aerosurface_scale name="Rudder Normalized">
				<input>fcs/rudder-pos-rad</input>
				<domain>
					<min>-0.523</min>
					<max> 0.523</max>
				</domain>
				<range>
					<min>-1</min>
					<max> 1</max>
				</range>
				<output>fcs/rudder-pos-norm</output>
			</aerosurface_scale>

		</channel>
		<channel name="Flaps">

			<kinematic name="Flaps Control">
				<input>fcs/flap-cmd-norm</input>
				<traverse>
					<setting>
						<position>0</position>
						<time>0</time>
					</setting>
					<setting>
						<position>0.125</position>
						<time>13</time>
					</setting>
					<setting>
						<position>0.25</position>
						<time>3</time>
					</setting>
					<setting>
						<position>0.375</position>
						<time>4</time>
					</setting>
					<setting>
						<position>0.5</position>
						<time>2</time>
					</setting>
					<setting>
						<position>0.625</position>
						<time>3</time>
					</setting>
					<setting>
						<position>0.75</position>
						<time>2</time>
					</setting>
					<setting>
						<position>0.875</position>
						<time>5</time>
					</setting>
					<setting>
						<position>1</position>
						<time>5</time>
					</setting>
				</traverse>
				<output>fcs/flap-pos-norm</output>
			</kinematic>

		</channel>
		<channel name="Landing Gear">

			<kinematic name="Gear Control">
				<input>gear/gear-cmd-norm</input>
				<traverse>
					<setting>
						<position>0</position>
						<time>0</time>
					</setting>
					<setting>
						<position>1</position>
						<time>5</time>
					</setting>
				</traverse>
				<output>gear/gear-pos-norm</output>
			</kinematic>

		</channel>

		<channel name="Flight Spoilers">
		  <!-- operated by the speedbrake handle and roll control -->

		  <fcs_function name="Outboard spoiler command low">
				<function>
					<table>
						<independentVar>fcs/roll-trim-sum</independentVar>
						<tableData>
							-0.966  -33.0184
							-0.954  -32.5422
							-0.839  -25.816
							-0.69   -17.9607
							-0.483  -10.0735
							-0.23   -3.08542
							-0.172  -0.734767
							-0.161  -0.262478
							-0.149  0
							0.149   0
							0.161   0.262478
							0.172   0.734767
							0.23    3.08542
							0.483   10.0735
							0.69    17.9607
							0.839   25.816
							0.954   32.5422
							0.966   33.0184
						</tableData>
					</table>
				</function>
				<output>fcs/spoilers-outb-cmd-a</output>
			</fcs_function>

			<fcs_function name="Outboard spoiler command high">
				<function>
					<table>
						<independentVar>fcs/roll-trim-sum</independentVar>
						<tableData>
							-0.908  -33.0184
							-0.897  -33
							-0.885  -32.7384
							-0.874  -32.3305
							-0.828  -29.3878
							-0.69   -21.2068
							-0.494  -12.3579
							-0.322  -6.87439
							-0.207  -3.93022
							-0.126  -0
							0.126   0
							0.207   3.93022
							0.322   6.87439
							0.494   12.3579
							0.69    21.2068
							0.828   29.3878
							0.874   32.3305
							0.885   32.7384
							0.897   33
							0.908   33.0184
						</tableData>
					</table>
				</function>
				<output>fcs/spoilers-outb-cmd-b</output>
			</fcs_function>

			<fcs_function>
                <function>
                    <min>
                        <property>fcs/spoilers-outb-cmd-a</property>
                        <property>fcs/spoilers-outb-cmd-b</property>
                    </min>
                </function>
				<output>fcs/spoilers-outb-cmd-low</output>
			</fcs_function>

			<fcs_function>
                <function>
                    <max>
                        <property>fcs/spoilers-outb-cmd-a</property>
                        <property>fcs/spoilers-outb-cmd-b</property>
                    </max>
                </function>
				<output>fcs/spoilers-outb-cmd-high</output>
			</fcs_function>


			<pure_gain name="fcs/spoilers-outb-rollpos">
				<input>fcs/spoilers-outb-rollpos</input>
				<gain>1</gain>
				<clipto>
					<min>fcs/spoilers-outb-cmd-low</min>
					<max>fcs/spoilers-outb-cmd-high</max>
				</clipto>
				<output>fcs/spoilers-outb-rollpos</output>
			</pure_gain>

			<fcs_function name="fcs/spoilers-23-pos">
				<function>
					<sum>
						<product>
							<property>fcs/spoilers-outb-rollpos</property>
							<value>-1</value>
						</product>
						<table>
							<independentVar>/controls/flight/speedbrake-output</independentVar>
							<tableData>
								0       0
								0.65    25
								1       33
							</tableData>
						</table>
					</sum>
				</function>
				<clipto>
					<min>0</min>
					<max>33</max>
				</clipto>
				<output>fcs/spoilers-23-pos</output>
			</fcs_function>

			<fcs_function name="fcs/spoilers-1011-pos">
				<function>
					<sum>
						<product>
							<property>fcs/spoilers-outb-rollpos</property>
							<value>1</value>
						</product>
						<table>
							<independentVar>/controls/flight/speedbrake-output</independentVar>
							<tableData>
								0       0
								0.65    25
								1       33
							</tableData>
						</table>
					</sum>
				</function>
				<clipto>
					<min>0</min>
					<max>33</max>
				</clipto>
				<output>fcs/spoilers-1011-pos</output>
			</fcs_function>

			<fcs_function name="Inboard spoiler command low">
				<function>
					<table>
						<independentVar>fcs/roll-trim-sum</independentVar>
						<tableData>
							-0.931  -38.0876
							-0.851  -32.9198
							-0.759  -27.2137
							-0.667  -21.8692
							-0.253  -7.35186
							-0.172  -4.15259
							-0.115  0
							0.115   0
							0.172   4.15259
							0.253   7.35186
							0.667   21.8692
							0.759   27.2137
							0.851   32.9198
							0.931   38.0876
						</tableData>
					</table>
				</function>
				<output>fcs/spoilers-inbd-cmd-a</output>
			</fcs_function>

			<fcs_function name="Inboard spoiler command high">
				<function>
					<table>
						<independentVar>fcs/roll-trim-sum</independentVar>
						<tableData>
							-0.874  -38.0876
							-0.839  -37.0523
							-0.759  -31.2959
							-0.678  -25.9222
							-0.575  -20.416
							-0.46   -15.5011
							-0.345  -11.8071
							-0.207  -7.50588
							-0.161  -5.15716
							-0.08   0
							0.08    0
							0.161   5.15716
							0.207   7.50588
							0.345   11.8071
							0.46    15.5011
							0.575   20.416
							0.678   25.9222
							0.759   31.2959
							0.839   37.0523
							0.874   38.0876
						</tableData>
					</table>
				</function>
				<output>fcs/spoilers-inbd-cmd-b</output>
			</fcs_function>

			<fcs_function>
                <function>
                    <min>
                        <property>fcs/spoilers-inbd-cmd-a</property>
                        <property>fcs/spoilers-inbd-cmd-b</property>
                    </min>
                </function>
				<output>fcs/spoilers-inbd-cmd-low</output>
			</fcs_function>

			<fcs_function>
                <function>
                    <max>
                        <property>fcs/spoilers-inbd-cmd-a</property>
                        <property>fcs/spoilers-inbd-cmd-b</property>
                    </max>
                </function>
				<output>fcs/spoilers-inbd-cmd-high</output>
			</fcs_function>

			<pure_gain name="fcs/spoilers-inbd-rollpos">
				<input>fcs/spoilers-inbd-rollpos</input>
				<gain>1</gain>
				<clipto>
					<min>fcs/spoilers-inbd-cmd-low</min>
					<max>fcs/spoilers-inbd-cmd-high</max>
				</clipto>
				<output>fcs/spoilers-inbd-rollpos</output>
			</pure_gain>

			<fcs_function name="fcs/spoilers-45-pos">
				<function>
					<sum>
						<product>
							<property>fcs/spoilers-inbd-rollpos</property>
							<value>-1</value>
						</product>
						<table>
							<independentVar>/controls/flight/speedbrake-output</independentVar>
							<tableData>
								0       0
								0.65    32
								1       38
							</tableData>
						</table>
					</sum>
				</function>
				<clipto>
					<min>0</min>
					<max>38</max>
				</clipto>
				<output>fcs/spoilers-45-pos</output>
			</fcs_function>

			<fcs_function name="fcs/spoilers-89-pos">
				<function>
					<sum>
						<product>
							<property>fcs/spoilers-inbd-rollpos</property>
							<value>1</value>
						</product>
						<table>
							<independentVar>/controls/flight/speedbrake-output</independentVar>
							<tableData>
								0       0
								0.65    32
								1       38
							</tableData>
						</table>
					</sum>
				</function>
				<clipto>
					<min>0</min>
					<max>38</max>
				</clipto>
				<output>fcs/spoilers-89-pos</output>
			</fcs_function>


			<kinematic name="Flight Spoilers Control">
				<input>/controls/flight/speedbrake-output</input>
				<traverse>
					<setting>
						<position>0</position>
						<time>0</time>
					</setting>
					<setting>
						<position>1</position>
						<time>0.6</time>
					</setting>
				</traverse>
				<output>fcs/speedbrake-pos-norm</output>
			</kinematic>

		</channel>

		<channel name="Ground Spoilers">
		
			<kinematic name="Ground Spoilers Control">
				<input>fcs/spoiler-cmd-norm</input>
				<traverse>
					<setting>
						<position>0</position>
						<time>0</time>
					</setting>
					<setting>
						<position>1</position>
						<time>0.6</time>
					</setting>
				</traverse>
				<output>fcs/spoiler-pos-norm</output>
			</kinematic>

		</channel>

		<channel name="Stabilizer">

			<pure_gain name="fcs/stabilizer/trim-rate-per-tick">
				<input>fcs/stabilizer/trim-rate</input>
				<gain>simulation/dt</gain>
			</pure_gain>

			<summer name="fcs/stabilizer/errorfree-stab-error">
				<input> fcs/stabilizer/stab-target </input>
				<input>-fcs/stabilizer-pos-unit </input>
				<clipto>
					<min>-fcs/stabilizer/trim-rate-per-tick</min>
					<max> fcs/stabilizer/trim-rate-per-tick</max>
				</clipto>
				<output>fcs/stabilizer/stab-error</output>
			</summer>

			<summer name="fcs/stabilizer/stabilizer-pos-unit">
				<input> fcs/stabilizer-pos-unit </input>
				<input> fcs/stabilizer/stab-error </input>
				<output>fcs/stabilizer-pos-unit</output>
			</summer>

			<fcs_function name="fcs/stab">
				<function>
					<product>
						<sum>
							<property>fcs/stabilizer-pos-unit</property>
							<value>-4</value>
						</sum>
						<value>-1</value>
					</product>
				</function>
			</fcs_function>

		</channel>

		<channel name="Autobrake">

			<switch name="fcs/autobrake/errorfree-target-decel-fps_sec2-filtered">
				<default value="fcs/autobrake/target-decel-fps_sec2"/>
				<test value="12">
					velocities/u-fps LE 134
					fcs/autobrake/target-decel-fps_sec2 == 14
				</test>
				<output>fcs/autobrake/target-decel-fps_sec2-filtered</output>
			</switch>

			<summer name="fcs/autobrake/time-work">
				<input> sim-time-sec </input>
				<input>-fcs/autobrake/start-time-sec </input>
			</summer>

			<pure_gain name="fcs/autobrake/target-decel-15sec">
				<input>fcs/autobrake/time-work</input>
				<gain>2</gain>
			</pure_gain>

			<fcs_function name="fcs/autobrake/target-decel-25sec">
				<function>
					<sum>
						<product>
							<property>fcs/autobrake/time-work</property>
							<sum>
								<property>fcs/autobrake/target-decel-fps_sec2-filtered</property>
								<value>-3</value>
							</sum>
						</product>
						<sum>
							<value>3</value>
							<product>
								<sum>
									<property>fcs/autobrake/target-decel-fps_sec2-filtered</property>
									<value>-3</value>
								</sum>
								<value>-1.5</value>
							</product>
						</sum>
					</sum>
				</function>
			</fcs_function>

			<switch name="fcs/autobrake/errorfree-target-decel-fps_sec2-final">
				<default value="fcs/autobrake/target-decel-fps_sec2-filtered"/>
				<test value="25">
					fcs/autobrake/target-decel-fps_sec2-filtered == 25
				</test>
				<test value="fcs/autobrake/target-decel-15sec">
					fcs/autobrake/time-work LE 1.5
				</test>
				<test value="fcs/autobrake/target-decel-25sec">
					fcs/autobrake/time-work LE 2.5
					fcs/autobrake/time-work GT 1.5
				</test>
				<output>fcs/autobrake/target-decel-fps_sec2-final</output>
			</switch>

			<summer name="fcs/autobrake/decel-error">
				<input> fcs/autobrake/target-decel-fps_sec2-final </input>
				<input> accelerations/udot-ft_sec2 </input>
			</summer>

			<pure_gain>
				<input>fcs/autobrake/decel-error</input>
				<gain>0.01</gain>
				<output>fcs/autobrake/brake-cmd-gain</output>
			</pure_gain>

			<summer name="fcs/autobrake/errorfree-autobrake-cmd">
				<input> fcs/autobrake/autobrake-cmd </input>
				<input> fcs/autobrake/brake-cmd-gain </input>
				<clipto>
					<min>0</min>
					<max>1</max>
				</clipto>
				<output>fcs/autobrake/autobrake-cmd</output>
			</summer>

			<switch name="fcs/autobrake/brake-left-cmd-final">
				<default value="fcs/brake-left-cmd"/>
				<test value="fcs/autobrake/autobrake-cmd">
					fcs/autobrake/autobrake-in-use == 1
				</test>
				<output>fcs/left-brake-cmd-norm</output>
			</switch>

			<switch name="fcs/autobrake/brake-right-cmd-final">
				<default value="fcs/brake-right-cmd"/>
				<test value="fcs/autobrake/autobrake-cmd">
					fcs/autobrake/autobrake-in-use == 1
				</test>
				<output>fcs/right-brake-cmd-norm</output>
			</switch>

		</channel>

		<channel name="Throttle">

			<switch name="fcs/throttle/max-reverse">
				<default value="1"/>
				<test value="0.742">
					/engines/engine[0]/reverser-pos-norm GT 0.6
					/engines/engine[1]/reverser-pos-norm GT 0.6
				</test>
				<test value="0.119">
					/engines/engine[0]/reverser-pos-norm LE 0.6
					/engines/engine[1]/reverser-pos-norm LE 0.6
					/engines/engine[0]/reverser-pos-norm GT 0
					/engines/engine[1]/reverser-pos-norm GT 0
				</test>
			</switch>

			<fcs_function name="fcs/throttle/throttle-cmd-norm[0]">
				<function>
					<product>
						<property>/controls/engines/engine[0]/throttle</property>
						<value>1</value>
					</product>
				</function>
				<output>fcs/throttle-cmd-norm[0]</output>
			</fcs_function>

			<summer name="fcs/throttle/throttle-pos-norm[0]">
				<input>fcs/throttle/throttle-cmd-norm[0]</input>
				<clipto>
					<min>0.0</min>
					<max>fcs/throttle/max-reverse</max>
				</clipto>
				<output>fcs/throttle-pos-norm[0]</output>
			</summer>

			<fcs_function name="fcs/throttle/throttle-cmd-norm[1]">
				<function>
					<product>
						<property>/controls/engines/engine[1]/throttle</property>
						<value>1</value>
					</product>
				</function>
				<output>fcs/throttle-cmd-norm[1]</output>
			</fcs_function>

			<summer name="fcs/throttle/throttle-pos-norm[1]">
				<input>fcs/throttle/throttle-cmd-norm[1]</input>
				<clipto>
					<min>0.0</min>
					<max>fcs/throttle/max-reverse</max>
				</clipto>
				<output>fcs/throttle-pos-norm[1]</output>
			</summer>

		</channel>

		<channel name="reversers">

			<fcs_function name="Reverser angle left">
				<function>
					<description>Reverse thrust calculation</description>
					<product>
						<property>/engines/engine[0]/reverser-pos-norm</property>
						<table>
							<independentVar lookup="row">velocities/vtrue-kts</independentVar>
							<independentVar lookup="column">propulsion/engine[0]/n1</independentVar>
							<tableData>
									19.76   82.3
								0   1.86    1.79
								50  2.39    1.87
								100 2.37    1.94
								150 1.84    1.99
							</tableData>
						</table>
					</product>
				</function>
				<output>propulsion/engine[0]/reverser-angle-rad</output>
			</fcs_function>

			<fcs_function name="Reverser angle right">
				<function>
					<description>Reverse thrust calculation</description>
					<product>
						<property>/engines/engine[1]/reverser-pos-norm</property>
						<table>
							<independentVar lookup="row">velocities/vtrue-kts</independentVar>
							<independentVar lookup="column">propulsion/engine[1]/n1</independentVar>
							<tableData>
									19.76   82.3
								0   1.86    1.79
								50  2.39    1.87
								100 2.37    1.94
								150 1.84    1.99
							</tableData>
						</table>
					</product>
				</function>
				<output>propulsion/engine[1]/reverser-angle-rad</output>
			</fcs_function>

			<fcs_function name="aero/function/left-engine-reverse-drag">
				<function>
					<product>
						<property>aero/qbar-psf</property>
						<property>/engines/engine[0]/reverser-pos-norm</property>
						<value>27</value>
					</product>
				</function>
				<output>external_reactions/reverse-drag-left/magnitude</output>
			</fcs_function>

			<fcs_function name="aero/function/right-engine-reverse-drag">
				<function>
					<product>
						<property>aero/qbar-psf</property>
						<property>/engines/engine[1]/reverser-pos-norm</property>
						<value>27</value>
					</product>
				</function>
				<output>external_reactions/reverse-drag-right/magnitude</output>
			</fcs_function>
			
		</channel>
		
		<channel name="Tiller">
			
			<fcs_function name="Nose Wheel Steering 0">
				<function name="fcs/steer-nose-deg[0]">
					<description>Steering command for nose gear</description>
					<product>
						<table>
							<independentVar lookup="row">/velocities/groundspeed-kt</independentVar>
							<independentVar lookup="column">/controls/flight/rudder</independentVar>
							<tableData>
									-1  0   1
							30.000 -70  0  70
							30.001 -10  0  10
							</tableData>
						</table>
					</product>
				</function>
			</fcs_function>
			
			<actuator name="Gear Nose Actuator">
				<input>fcs/steer-nose-deg[0]</input>
				<rate_limit>70</rate_limit>
				<output>fcs/steer-pos-deg[0]</output>
			</actuator>
			
		</channel>

	</flight_control>

	<aerodynamics>

		

		<function name="aero/function/kCDge">
			<description>Change_in_drag_due_to_ground_effect</description>
			<product>
				  <table>
					  <independentVar>aero/h_b-mac-ft</independentVar>
					  <tableData>
						  0.0000	0.4800
						  0.1000	0.5150
						  0.1500	0.6290
						  0.2000	0.7090
						  0.3000	0.8150
						  0.4000	0.8820
						  0.5000	0.9280
						  0.6000	0.9620
						  0.7000	0.9880
						  0.8000	1.0000
					  </tableData>
				  </table>
			</product>
		</function>

		<function name="aero/function/kCLge">
			<description>Change_in_lift_due_to_ground_effect</description>
			<product>
				  <table>
					  <independentVar>aero/h_b-mac-ft</independentVar>
					  <tableData>
						  0.0000	1.2030
						  0.1000	1.1270
						  0.1500	1.0900
						  0.2000	1.0730
						  0.3000	1.0460
						  0.4000	1.0550
						  0.5000	1.0190
						  0.6000	1.0130
						  0.7000	1.0080
						  0.8000	1.0060
						  0.9000	1.0030
						  1.0000	1.0020
						  1.1000	1.0000
					  </tableData>
				  </table>
			</product>
		</function>

		<function name="aero/function/kCLsb">
			<description>Change_in_lift_due_to_speed_brake</description>
			<product>
				  <table>
					  <independentVar>fcs/speedbrake-pos-norm</independentVar>
					  <tableData>
						  0.0000	1.0
						  0.1000	0.85
					  </tableData>
				  </table>
			</product>
		</function>

		<function name="aero/function/kCLsp">
			<description>Change_in_lift_due_to_spoilers</description>
			<product>
				  <table>
					  <independentVar>fcs/spoiler-pos-norm</independentVar>
					  <tableData>
						  0.0000	1.0
						  0.1000	0.6
					  </tableData>
				  </table>
			</product>
		</function>

		<axis name="DRAG">

			<function name="aero/coefficient/CD0">
				<description>Drag_at_zero_lift</description>
				<product>
					<property>aero/qbar-psf</property>
					<property>metrics/Sw-sqft</property>
					  <table>
						  <independentVar>aero/alpha-rad</independentVar>
						  <tableData>
							 -1.57	1.5000
							 -0.26	0.0420
							  0.00	0.0210
							  0.26	0.0420
							  1.57	1.5000
						  </tableData>
					  </table>
				</product>
			</function>

			<function name="aero/coefficient/CDi">
				<description>Induced_drag</description>
				<product>
					<property>aero/qbar-psf</property>
					<property>metrics/Sw-sqft</property>
					<property>aero/cl-squared</property>
					<property>aero/function/kCDge</property>
					<value>0.043</value>
				</product>
			</function>

			<function name="aero/coefficient/CDmach">
				<description>Drag_due_to_mach</description>
				<product>
					<property>aero/qbar-psf</property>
					<property>metrics/Sw-sqft</property>
					  <table>
						  <independentVar>velocities/mach</independentVar>
						  <tableData>
							  0.00	0.0000
							  0.79	0.0000
							  1.10	0.0230
							  1.80	0.0150
						  </tableData>
					  </table>
				</product>
			</function>

			<function name="aero/coefficient/CDflap">
				<description>Drag_due_to_flaps</description>
				<product>
					<property>aero/qbar-psf</property>
					<property>metrics/Sw-sqft</property>
					<property>fcs/flap-pos-norm</property>
					<value>0.059</value>
				</product>
			</function>

			<function name="aero/coefficient/CDgear">
				<description>Drag_due_to_gear</description>
				<product>
					<property>aero/qbar-psf</property>
					<property>metrics/Sw-sqft</property>
					<property>gear/gear-pos-norm</property>
					<value>0.015</value>
				</product>
			</function>

			<function name="aero/coefficient/CDsb">
				<description>Drag_due_to_flight_spoilers</description>
				<product>
					<property>aero/qbar-psf</property>
					<property>metrics/Sw-sqft</property>
					<property>fcs/speedbrake-pos-norm</property>
					<value>0.02</value>
				</product>
			</function>

			<function name="aero/coefficient/CDsp">
				<description>Drag_due_to_ground_spoilers</description>
				<product>
					<property>aero/qbar-psf</property>
					<property>metrics/Sw-sqft</property>
					<property>fcs/spoiler-pos-norm</property>
					<value>0.04</value>
				</product>
			</function>

			<function name="aero/coefficient/CDbeta">
				<description>Drag_due_to_sideslip</description>
				<product>
					<property>aero/qbar-psf</property>
					<property>metrics/Sw-sqft</property>
					  <table>
						  <independentVar>aero/beta-rad</independentVar>
						  <tableData>
							 -1.57	1.2300
							 -0.26	0.0500
							  0.00	0.0000
							  0.26	0.0500
							  1.57	1.2300
						  </tableData>
					  </table>
				</product>
			</function>

			<function name="aero/coefficient/CDde">
				<description>Drag_due_to_Elevator_Deflection</description>
				<product>
					<property>aero/qbar-psf</property>
					<property>metrics/Sw-sqft</property>
					<abs><property>fcs/elevator-pos-norm</property></abs>
					<value>0.0059</value>
				</product>
			</function>

		</axis>

		<axis name="SIDE">
			<function name="aero/coefficient/CYb">
				<description>Side_force_due_to_beta</description>
				<product>
					<property>aero/qbar-psf</property>
					<property>metrics/Sw-sqft</property>
					<property>aero/beta-rad</property>
					<value>-1</value>
				</product>
			</function>
		</axis>

		<axis name="LIFT">

			<function name="aero/coefficient/CLalpha">
				<description>Lift_due_to_alpha</description>
				<product>
					<property>aero/qbar-psf</property>
					<property>metrics/Sw-sqft</property>
					<property>aero/function/kCLge</property>
					<table>
						<independentVar>aero/alpha-rad</independentVar>
						<tableData>
							-0.1745 -0.9675
							-0.1571 -0.8566
							-0.1396 -0.7455
							-0.1222 -0.6345
							-0.1047 -0.5235
							-0.0873 -0.4125
							-0.0698 -0.3014
							-0.0524 -0.1904
							-0.0349 -0.0795
							-0.0175 0.0324
							0       0.1451
							0.0175  0.2577
							0.0349  0.3704
							0.0524  0.483
							0.0698  0.5874
							0.0873  0.6906
							0.1047  0.7939
							0.1222  0.8796
							0.1396  0.9597
							0.1571  1.0397
							0.1745  1.1296
							0.192   1.2223
							0.2094  1.3151
							0.2269  1.4002
							0.2443  1.4523
							0.2618  1.5043
							0.2793  1.5335
							0.2967  1.5532
							0.3142  1.5116
							0.3316  1.4276
							0.3491  1.3599
							0.3665  1.3114
							0.384   1.2664
							0.4014  1.2521
							0.4189  1.2431
							0.4363  1.2465
							0.4538  1.2499
							0.4712  1.2534
							0.4887  1.2569
							0.5061  1.2549
							0.5236  1.2521
							0.5411  1.2494
							0.5585  1.2466
							0.576   1.244
							0.5934  1.2447
							0.6109  1.2455
							0.6283  1.2462
							0.6458  1.2469
							0.6632  1.2476
							0.6807  1.2484
							0.6981  1.2491
							0.7156  1.2497
							0.733   1.2489
							0.7505  1.2481
							0.7679  1.2474
							0.7854  1.2465
							0.8029  1.2457
							0.8203  1.245
							0.8378  1.2442
							0.8552  1.2433
							0.8727  1.2426
						</tableData>
					</table>
				</product>
			</function>

			<function name="aero/coefficient/dCLflap">
				<description>Delta_Lift_due_to_flaps</description>
				<product>
					<property>aero/qbar-psf</property>
					<property>metrics/Sw-sqft</property>
					<property>aero/function/kCLge</property>
					<table>
						<independentVar>fcs/flap-pos-norm</independentVar>
						<tableData>
							0       0
							0.125   0.103
							0.375   0.267
							0.625   0.438
							0.875   0.701
							1       0.953
						</tableData>
					</table>
				</product>
			</function>

			<function name="aero/coefficient/CLde">
				<description>Lift_due_to_Elevator_Deflection</description>
				<product>
					<property>aero/qbar-psf</property>
					<property>metrics/Sw-sqft</property>
					<property>fcs/elevator-pos-rad</property>
					<value>0.3</value>
				</product>
			</function>

			<function name="aero/coefficient/CLdstab">
				<description>Lift_due_to_Stabilizer_Deflection</description>
				<product>
					<property>aero/qbar-psf</property>
					<property>metrics/Sw-sqft</property>
					<property>fcs/stab</property>
					<value>0.017452778</value> <!-- deg to rad for easier elevator vs stabilizer efficiency tuning-->
					<value>0.6</value>
				</product>
			</function>

			<function name="aero/coefficient/CLdlail">
				<description>Lift_due_to_Left_Aileron_Deflection</description>
				<product>
					<property>aero/qbar-psf</property>
					<property>metrics/Sw-sqft</property>
					<property>fcs/left-aileron-pos-rad</property>
					<value>0.042</value>
				</product>
			</function>

			<function name="aero/coefficient/CLdrail">
				<description>Lift_due_to_Right_Aileron_Deflection</description>
				<product>
					<property>aero/qbar-psf</property>
					<property>metrics/Sw-sqft</property>
					<property>fcs/right-aileron-pos-rad</property>
					<value>0.042</value>
				</product>
			</function>

			<function name="aero/coefficient/CLdspl23">
				<description>Lift_loss_due_to_spoiler_2_3_deflection</description>
				<product>
					<property>aero/qbar-psf</property>
					<property>metrics/Sw-sqft</property>
					<property>fcs/spoilers-23-pos</property>
					<table>
						<independentVar>fcs/flap-pos-norm</independentVar>
						<tableData>
							0       -0.0008
							1       -0.00225
						</tableData>
					</table>
				</product>
			</function>

			<function name="aero/coefficient/CLdspl45">
				<description>Lift_loss_due_to_spoiler_4_5_deflection</description>
				<product>
					<property>aero/qbar-psf</property>
					<property>metrics/Sw-sqft</property>
					<property>fcs/spoilers-45-pos</property>
					<table>
						<independentVar>fcs/flap-pos-norm</independentVar>
						<tableData>
							0       -0.0008
							1       -0.00225
						</tableData>
					</table>
				</product>
			</function>

			<function name="aero/coefficient/CLdspl89">
				<description>Lift_loss_due_to_spoiler_8_9_deflection</description>
				<product>
					<property>aero/qbar-psf</property>
					<property>metrics/Sw-sqft</property>
					<property>fcs/spoilers-89-pos</property>
					<table>
						<independentVar>fcs/flap-pos-norm</independentVar>
						<tableData>
							0       -0.0008
							1       -0.00225
						</tableData>
					</table>
				</product>
			</function>

			<function name="aero/coefficient/CLdspl1011">
				<description>Lift_loss_due_to_spoiler_10_11_deflection</description>
				<product>
					<property>aero/qbar-psf</property>
					<property>metrics/Sw-sqft</property>
					<property>fcs/spoilers-1011-pos</property>
					<table>
						<independentVar>fcs/flap-pos-norm</independentVar>
						<tableData>
							0       -0.0008
							1       -0.00225
						</tableData>
					</table>
				</product>
			</function>

		</axis>

		<axis name="ROLL">

			<function name="aero/coefficient/Clb">
				<description>Roll_moment_due_to_beta</description>
				<product>
					<property>aero/qbar-psf</property>
					<property>metrics/Sw-sqft</property>
					<property>metrics/bw-ft</property>
					<property>aero/beta-rad</property>
					<value>-0.09</value>
				</product>
			</function>

			<function name="aero/coefficient/Clp">
				<description>Roll_moment_due_to_roll_rate</description>
				<product>
					<property>aero/qbar-psf</property>
					<property>metrics/Sw-sqft</property>
					<property>metrics/bw-ft</property>
					<property>aero/bi2vel</property>
					<property>velocities/p-aero-rad_sec</property>
					<value>-0.4</value>
				</product>
			</function>

			<function name="aero/coefficient/Clr">
				<description>Roll_moment_due_to_yaw_rate</description>
				<product>
					<property>aero/qbar-psf</property>
					<property>metrics/Sw-sqft</property>
					<property>metrics/bw-ft</property>
					<property>aero/bi2vel</property>
					<property>velocities/r-aero-rad_sec</property>
					<value>0.09</value>
				</product>
			</function>

			<function name="aero/coefficient/Cldla">
				<description>Roll_moment_due_to_left_aileron</description>
				<product>
					<property>aero/coefficient/CLdlail</property>
					<sum>
						<value>44.5</value>
						<quotient>
							<property>inertia/cg-y-in</property>
							<value>12</value>
						</quotient>
					</sum>
				</product>
			</function>

			<function name="aero/coefficient/Cldra">
				<description>Roll_moment_due_to_right_aileron</description>
				<product>
					<property>aero/coefficient/CLdrail</property>
					<sum>
						<value>-44.5</value>
						<quotient>
							<property>inertia/cg-y-in</property>
							<value>12</value>
						</quotient>
					</sum>
				</product>
			</function>

			<function name="aero/coefficient/Cldspl23">
				<description>Roll_moment_due_to_spoilers_2_3</description>
				<product>
					<property>aero/coefficient/CLdspl23</property>
					<sum>
						<value>30</value>
						<quotient>
							<property>inertia/cg-y-in</property>
							<value>12</value>
						</quotient>
					</sum>
				</product>
			</function>

			<function name="aero/coefficient/Cldspl45">
				<description>Roll_moment_due_to_spoilers_4_5</description>
				<product>
					<property>aero/coefficient/CLdspl45</property>
					<sum>
						<value>24.5</value>
						<quotient>
							<property>inertia/cg-y-in</property>
							<value>12</value>
						</quotient>
					</sum>
				</product>
			</function>

			<function name="aero/coefficient/Cldspl89">
				<description>Roll_moment_due_to_spoilers_8_9</description>
				<product>
					<property>aero/coefficient/CLdspl89</property>
					<sum>
						<value>-24.5</value>
						<quotient>
							<property>inertia/cg-y-in</property>
							<value>12</value>
						</quotient>
					</sum>
				</product>
			</function>

			<function name="aero/coefficient/Cldspl1011">
				<description>Roll_moment_due_to_spoilers_10_11</description>
				<product>
					<property>aero/coefficient/CLdspl1011</property>
					<sum>
						<value>-30</value>
						<quotient>
							<property>inertia/cg-y-in</property>
							<value>12</value>
						</quotient>
					</sum>
				</product>
			</function>

			<function name="aero/coefficient/Cldr">
				<description>Roll_moment_due_to_rudder</description>
				<product>
					<property>aero/qbar-psf</property>
					<property>metrics/Sw-sqft</property>
					<property>metrics/bw-ft</property>
					<property>fcs/rudder-pos-rad</property>
					<value>0.01</value>
				</product>
			</function>
		</axis>

		<axis name="PITCH">
			<function name="aero/coefficient/Cmalpha">
				<description>Pitch_moment_due_to_alpha</description>
				<product>
					<property>aero/qbar-psf</property>
					<property>metrics/Sw-sqft</property>
					<property>metrics/cbarw-ft</property>
					<sum>
						<product>
							<value>-1.6</value>
							<property>aero/alpha-rad</property>
						</product>
						<value>0.015</value>
					</sum>
				</product>
			</function>
			<function name="aero/coefficient/Cmde">
				<description>Pitch_moment_due_to_elevator</description>
				<product>
					<sum>
						<property>metrics/lh-ft</property>
						<quotient>
							<difference>
								<value>734</value>
								<property>inertia/cg-x-in</property>
							</difference>
							<value>12</value>
						</quotient>
					</sum>
					<property>aero/coefficient/CLde</property>
					<value>-1</value>
				</product>
			</function>
			<function name="aero/coefficient/Cmdstab">
				<description>Pitch_moment_due_to_stabilizer</description>
				<product>
					<property>metrics/lh-ft</property>
					<property>aero/coefficient/CLdstab</property>
					<value>-1</value>
				</product>
			</function>
			<function name="aero/coefficient/Cmq">
				<description>Pitch_moment_due_to_pitch_rate</description>
				<product>
					<property>aero/qbar-psf</property>
					<property>metrics/Sw-sqft</property>
					<property>metrics/cbarw-ft</property>
					<property>aero/ci2vel</property>
					<property>velocities/q-aero-rad_sec</property>
					<value>-27.0</value>
				</product>
			</function>
			<function name="aero/coefficient/Cmadot">
				<description>Pitch_moment_due_to_alpha_rate</description>
				<product>
					<property>aero/qbar-psf</property>
					<property>metrics/Sw-sqft</property>
					<property>metrics/cbarw-ft</property>
					<property>aero/ci2vel</property>
					<property>aero/alphadot-rad_sec</property>
					<value>-16.0</value>
				</product>
			</function>
		</axis>

		<axis name="YAW">
			<function name="aero/coefficient/Cnb">
				<description>Yaw_moment_due_to_beta</description>
				<product>
					<property>aero/qbar-psf</property>
					<property>metrics/Sw-sqft</property>
					<property>metrics/bw-ft</property>
					<property>aero/beta-rad</property>
					<value>0.26</value>
				</product>
			</function>
			<function name="aero/coefficient/Cnr">
				<description>Yaw_moment_due_to_yaw_rate</description>
				<product>
					<property>aero/qbar-psf</property>
					<property>metrics/Sw-sqft</property>
					<property>metrics/bw-ft</property>
					<property>aero/bi2vel</property>
					<property>velocities/r-aero-rad_sec</property>
					<value>-0.35</value>
				</product>
			</function>
			<function name="aero/coefficient/Cndr">
				<description>Yaw_moment_due_to_rudder</description>
				<product>
					<property>aero/qbar-psf</property>
					<property>metrics/Sw-sqft</property>
					<property>metrics/bw-ft</property>
					<property>fcs/rudder-pos-rad</property>
					<value>-0.11</value>
				</product>
			</function>
		</axis>
	</aerodynamics>

	<external_reactions>

		<force name="pushback" frame="BODY">
			<location unit="IN">
				<x>  -139 </x>
				<y>    0.0 </y>
				<z>  -71.0 </z>
			</location>
			<direction>
				<x>1</x>
				<y>0</y>
				<z>0</z>
			</direction>
		</force>

		<force name="reverse-drag-left" frame="BODY">
			<location unit="IN">
				<x>  715.6  </x>
				<y> -193.68 </y>
				<z>  -52.38 </z>
			</location>
			<direction>
				<x>   -1 </x>
				<y>    0 </y>
				<z>    0 </z>
			</direction>
		</force>

		<force name="reverse-drag-right" frame="BODY">
			<location unit="IN">
				<x>  715.6  </x>
				<y>  193.68 </y>
				<z>  -52.38 </z>
			</location>
			<direction>
				<x>   -1 </x>
				<y>    0 </y>
				<z>    0 </z>
			</direction>
		</force>

	</external_reactions>

   <!-- <output name="B737_datalog.csv" rate=120 type="CSV">
		<property> /instrumentation/airspeed-indicator/indicated-speed-kt </property>
		<property> /velocities/groundspeed-kt </property>
		<property> /accelerations/pilot/x-accel-fps_sec </property>
		<property> /accelerations/pilot/y-accel-fps_sec </property>
		<property> /accelerations/pilot/z-accel-fps_sec </property>
		<property> /orientation/pitch-deg </property>
		<property> /orientation/roll-deg </property>
		<rates> OFF </rates>
		<velocities> ON </velocities>
		<forces> OFF </forces>
		<moments> OFF </moments>
		<position> OFF </position>
		<propulsion> OFF </propulsion>
		<aerosurfaces> OFF </aerosurfaces>
		<fcs> OFF </fcs>
		<ground_reactions> ON </ground_reactions>
	</output>-->

</fdm_config>

